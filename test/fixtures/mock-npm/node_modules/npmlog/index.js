const messages = []

const log = function(level, args){
  messages.push({
    level,
    prefix: args[0],
    message: Object.values(args).slice(1).join(' ')
  })
}

function newGroup(name, size) {
  return { newGroup }
}

module.exports = {
  error: function() { log('error', arguments) },
  warn: function() { log('warn', arguments) },
  info: function() { log('info', arguments) },
  verbose: function() { log('verbose', arguments) },
  silly: function() { log('silly', arguments) },
  newGroup,
  gauge: { pulse: function(msg){} }, // see prepare-raw-module.js
  clearProgress: () => {}, // see utils/output.js
  showProgress: () => {}, // ditto
  messages: () => messages,
  purge: () => messages.splice(0)
}
