const messages = []

const log = function(level, args){
  messages.push({
    level,
    prefix: args[0],
    message: Object.values(args).slice(1).join(' ')
  })
}

module.exports = {
  error: function() { log('error', arguments) },
  warn: function() { log('warn', arguments) },
  info: function() { log('info', arguments) },
  verbose: function() { log('verbose', arguments) },
  silly: function() { log('silly', arguments) },
  messages: () => messages,
  purge: () => messages.splice(0)
}
